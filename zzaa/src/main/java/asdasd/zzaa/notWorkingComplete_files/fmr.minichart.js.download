function MiniChartXAxisTickCalculator(){this._timeframe=null}function MiniChartViewModel(e){this._configuration=e||MiniChartConfiguration,Trackball.defaultVisible=this._configuration.showTrackball,Trackball.defaultRadius=2.5,this._timeframes=null,this._symbol="",this._chart=ObjectFactory.createInstance(StockChart,{horizontalGridLineColor:ObjectFactory.createInstance(tinycolor,"#EEEEEE"),verticalGridLineColor:ObjectFactory.createInstance(tinycolor,"#9F9F9F"),mountainColor:this._configuration.options.mountainColor?ObjectFactory.createInstance(tinycolor,this._configuration.options.mountainColor):void 0,mountainLineColor:this._configuration.options.mountainLineColor?ObjectFactory.createInstance(tinycolor,this._configuration.options.mountainLineColor):void 0,mountainFilledWithFixedColor:this._configuration.options.mountainFilledWithFixedColor}),this._chart.initialize(),this._chart.setWatermarkOpacity(this._configuration.watermarkOpacity),this._chart.setShowDescription(!1),this._chart.setShowVerticalGridLines(this._configuration.showVerticalGridLines),this._defaultTimeframe=Fmr_Pwi_Commons_TimePeriod.OneDay,this._defaultFrequency=Fmr_Pwi_Commons_FrequencyScale.FiveMinutes,this._defaultChartType=Fmr_StockChart_ChartType.Line,void 0!==this._configuration.defaultChartType&&null!==this._configuration.defaultChartType&&(this._defaultChartType=this._configuration.defaultChartType),this._chart.setChartType(this._defaultChartType),this._chart.setUpColor(ObjectFactory.createInstance(tinycolor,"#0F57C2")),this._chart.setDownColor(ObjectFactory.createInstance(tinycolor,"#0F57C2")),this._selectedTimeframe=this._defaultTimeframe,this._selectedFrequency=this._defaultFrequency,this._xAxisTickCalculator=ObjectFactory.createInstance(MiniChartXAxisTickCalculator),this._chart.setXAxisTickCalculator(this._xAxisTickCalculator),this._xAxisTickCalculator.setTimeframe(this._selectedTimeframe),this._dataProvider=null,this._showTimeframe=!0,void 0!==this._configuration.showTimeframes&&null!==this._configuration.showTimeframes&&(this._showTimeframe=this._configuration.showTimeframes),this._errorMessageService=ObjectFactory.createInstance(ErrorMessageService),this._requester=ObjectFactory.createInstance(SecurityDataRequester),this._requester.setConfiguration(this._configuration);for(var t=this._chart.getPricePane().getPlotObjects(),i=0;i<t.length;i++){var r=t[i];if(r instanceof Watermark){r.setFontScaler(ObjectFactory.createInstance(MiniChartWatermarkFontScaler));break}}}function MiniChartAdapter(e,t){this.viewModel=e,this.scope=t}function createMiniChart(e,t){if(void 0===e||null===e)throw new UndefinedOrNullException("selector");miniChartModule.preloadTemplates();var i=miniChartModule.getInjector(),r=i.get("$compile"),a=i.get("$rootScope"),n=a.$new(),o=ObjectFactory.createInstance(SecurityDataProvider);o.setHistoricalDataProvider(ObjectFactory.createInstance(HistoricalDataService));var s=ObjectFactory.createInstance(MiniChartViewModel,t);s.setSecurityDataProvider(o);var c=function(){n.$digest()};EventBus.on(s,"MiniChart:requestcompleted",c),n.viewModel=s;var m=angular.element("<mini-chart on-parent-resized='$eval()' data-context='viewModel' />");return EventBus.once(s,"MiniChart:destroyed",function(){EventBus.off(s,"MiniChart:requestcompleted",c),n.$destroy(),commonsModule.$(m).remove()},this),commonsModule.$(e).append(m),r(m)(n),m.data("$injector",i),n.$apply(),ObjectFactory.createInstance(MiniChartAdapter,s,n)}function MiniChartWatermarkFontScaler(){this._fontSize=36}function LastDayDivider(e){PlotObject.call(this),this._chart=e,this.setLineStyle(Fmr_Pwi_Charting_LineStyle.Solid),this.setLineWidth(1)}var miniChartModule=angular.module("fmr.minichart",["ng","fmr.pwi.commons","fmr.pwi.charting","fmr.stockchart"]);miniChartModule.getInjector=function(){return miniChartModule.$injector=miniChartModule.$injector||angular.injector(["fmr.minichart"]),miniChartModule.$injector},miniChartModule.preloadTemplates=function(){if(miniChartModule.templates&&!miniChartModule.templatesLoaded){var e=miniChartModule.getInjector(),t=e.get("$compile"),i=e.get("$rootScope"),r=angular.element("<div></div>");r.append(miniChartModule.templates),t(r)(i),miniChartModule.templatesLoaded=!0}},miniChartModule.directive("miniChart",["getTemplatesBasePath",function(e){return{restrict:"E",scope:{context:"="},templateUrl:function(t){return e(t,"templates/minichart/")+"minichart.html"}}}]),MiniChartXAxisTickCalculator.prototype=function(){function e(e,t){for(var i=-1,r=0;r<e.length;r++){var a=e[r];if(t.getTime()<=a.getTime()){i=r;break}}return i}function t(e,t){for(var i=-1,r=e.length-1;r>=0;r--){var a=e[r];if(t.getTime()>=a.getTime()){i=r;break}}return i}function i(e,t,i){for(var r=[],a=t;a<=i;a++){var n=e[a];0===n.getMinutes()&&r.push({date:n,style:Fmr_Pwi_Charting_XAxisLabelStyle.Hour,bold:0===n.getHours()})}return r}function r(e,t,i,r){for(var a=[],n=t;n<=i;n++){var o=e[n],s=r.marketOpen(o),c=r.marketClose(o),m=o.getTime();n>=0&&s.getTime()<=m&&m<=c.getTime()&&(a.length?o.getDate()!==a[a.length-1].date.getDate()&&a.push({date:o,style:Fmr_Pwi_Charting_XAxisLabelStyle.Week}):a.push({date:o,style:Fmr_Pwi_Charting_XAxisLabelStyle.Week}))}return a}function a(e){for(var t=[],i=0;i<e.length;i++)if(e[i].style===Fmr_Pwi_Charting_XAxisLabelStyle.Month){var r=DateExtensions.addWorkdays(e[i].date,-2),a=DateExtensions.addWorkdays(e[i].date,2);t.push({previous:r,next:a})}for(i=0;i<t.length;i++)for(var n=0;n<e.length;n++){var o=e[n],s=o.date,c=o.style;c===Fmr_Pwi_Charting_XAxisLabelStyle.Day&&s.getTime()>=t[i].previous.getTime()&&s.getTime()<=t[i].next.getTime()&&(e.splice(n,1),n-=1)}return e}function n(e,t,i){for(var r=[],n=t;n<=i;n++){var o=e[n];0===n&&DateExtensions.areSameDay(o,DateExtensions.firstWorkdayOfMonth(o))?r.push({date:o,style:Fmr_Pwi_Charting_XAxisLabelStyle.Month,bold:!0}):n>0&&o.getMonth()!==e[n-1].getMonth()?r.push({date:o,style:Fmr_Pwi_Charting_XAxisLabelStyle.Month,bold:!0}):n>0&&DateExtensions.lastDayOfWeek(o,1,!0).getDate()!==DateExtensions.lastDayOfWeek(e[n-1],1,!0).getDate()&&r.push({date:o,style:Fmr_Pwi_Charting_XAxisLabelStyle.Day})}return r=a(r)}function o(e,t,i){for(var r=[],a=t;a<=i;a++){var n=e[a];0===a&&DateExtensions.areSameDay(n,DateExtensions.firstWorkdayOfMonth(n))?r.push({date:n,style:Fmr_Pwi_Charting_XAxisLabelStyle.Month}):a>0&&n.getMonth()!==e[a-1].getMonth()&&r.push({date:n,style:Fmr_Pwi_Charting_XAxisLabelStyle.Month})}return r}function s(e,t,i){for(var r=[],a=t;a<=i;a++){var n=e[a];0===a&&DateExtensions.areSameDay(n,DateExtensions.firstWorkdayOfYear(n))?r.push({date:n,style:Fmr_Pwi_Charting_XAxisLabelStyle.ShortYear,bold:!0}):a>0&&n.getFullYear()!==e[a-1].getFullYear()?r.push({date:n,style:Fmr_Pwi_Charting_XAxisLabelStyle.ShortYear,bold:!0}):a>0&&n.getMonth()!==e[a-1].getMonth()&&r.push({date:n,style:Fmr_Pwi_Charting_XAxisLabelStyle.ShortMonth})}return r}function c(e,t,i){for(var r=[],a=t;a<=i;a++){var n=e[a];0===a&&DateExtensions.areSameDay(n,DateExtensions.firstWorkdayOfYear(n))?r.push({date:n,style:Fmr_Pwi_Charting_XAxisLabelStyle.ShortYear}):a>0&&n.getFullYear()!==e[a-1].getFullYear()&&r.push({date:n,style:Fmr_Pwi_Charting_XAxisLabelStyle.ShortYear})}return r}function m(e,t,i){return c(e,t,i)}function l(e,t,i){return c(e,t,i)}function h(e,t,i,r,a){var n=new Date;if(n.setTime(e.length>0?Math.max(t.getTime(),e[e.length-1].getTime()):t.getTime()),i.getTime()>n.getTime()){e.push(n);for(var o=BarScaleExtensions.nextTimestamp(r,n,a);o.getTime()<=i.getTime();)e.push(o),o=BarScaleExtensions.nextTimestamp(r,o,a)}return e}function u(i){var r=i,a=r.getMinValue(),n=r.getMaxValue(),o=r.getValues(),s=r.getScale(),c=this._timeframe,m=-1,l=-1,u=r.getMarketInfo();if(!o||0===o.length||!Fmr_Pwi_Commons_TimePeriod.isTimeframeValid(c))return[];o=[],r.getValues().forEach(function(e){o.push(e)}),o=h(o,a,n,s,u),m=e(o,a),l=t(o,n);for(var _,d=0;d<f.length;d++)if(f[d].period===c){_=f[d].callback(o,m,l,u);break}return _.map(function(e){var t=new XAxisLabel(e.date,e.style);return t.bold=e.bold,t})}function _(e){Fmr_Pwi_Commons_TimePeriod.verifyTimeframe(e),this._timeframe=e}function d(){return this._timeframe}var f=[{period:Fmr_Pwi_Commons_TimePeriod.OneDay,callback:i},{period:Fmr_Pwi_Commons_TimePeriod.FiveDays,callback:r},{period:Fmr_Pwi_Commons_TimePeriod.OneMonth,callback:n},{period:Fmr_Pwi_Commons_TimePeriod.ThreeMonths,callback:o},{period:Fmr_Pwi_Commons_TimePeriod.OneYear,callback:s},{period:Fmr_Pwi_Commons_TimePeriod.ThreeYears,callback:m},{period:Fmr_Pwi_Commons_TimePeriod.FiveYears,callback:l}];return{calculate:u,setTimeframe:_,getTimeframe:d}}(),MiniChartXAxisTickCalculator.prototype.constructor=MiniChartXAxisTickCalculator,MiniChartViewModel.prototype=function(){function e(e,t,i){switch(t){case Fmr_Pwi_Commons_FrequencyScale.Daily:e=new Date(e.getFullYear(),e.getMonth(),e.getDate());break;case Fmr_Pwi_Commons_FrequencyScale.FiveMinutes:case Fmr_Pwi_Commons_FrequencyScale.FifteenMinutes:!this._configuration.noIntradayPadding&&DateExtensions.areSameDay(e,DateService.todayEST())&&(e=i.marketClose(e,!1))}return e}function t(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),0))}function i(e,i,r){return e._d=t(r),moment.updateOffset(e,!0),i._offset=e._offset,i._d=e._d,moment.updateOffset(i),r=i._d,new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),0)}function r(e,t){var i=moment({year:e.getYear(),month:e.getMonth(),day:e.getDate()}),r=moment({year:t.getYear(),month:t.getMonth(),day:t.getDate()});return Math.abs(i.diff(r,"days"))}function a(e,t,a,n){var o=e,s=moment.tz("America/New_York"),c=i(s,n.timezone,e);"minute"===this._configuration.timeframeDayPrecision?c.setDate(c.getDate()-t):(c.setDate(c.getDate()-t+1),c.setHours(0),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0));for(var m=i(n.timezone,s,c),l=i(s,n.timezone,e),h=a.length-2;h>=0;h--){var u=a[h].timestamp,_=i(s,n.timezone,u),d=r(l,_);if(d>1&&m.setDate(m.getDate()-d+1),!(u>m))break;o=u,l=_}return o}function n(e,t){var i=DateExtensions.addWorkdays(DateExtensions.addMonths(e,-t),1);return i.setHours(0,0,0),i}function o(e,t,i,r){for(var a=new Date(1900,1,1),n=t[0].timestamp,o=0;o<E.length;o++)if(E[o].period===i){var s=E[o].interval;a=E[o].callback.call(this,e,s,t,r);break}return"minute"===this._configuration.timeframeDayPrecision||"NYSE"===r.name||i!==Fmr_Pwi_Commons_TimePeriod.OneDay&&i!==Fmr_Pwi_Commons_TimePeriod.FiveDays||(a=r.dayStart(a)),a.getTime()<n.getTime()&&(a=n),a}function s(e){if(void 0===e||null===e)throw new UndefinedOrNullException("timeframe");var t=this.getTimeframes();if(t.indexOf(e)===-1)throw new ArgumentOutOfRangeException("timeframe")}function c(e,t){t.request.timePeriod===Fmr_Pwi_Commons_TimePeriod.OneDay&&t.request.additionalParameters.push({name:"numDays",value:2}),t.request.timePeriod===Fmr_Pwi_Commons_TimePeriod.FiveDays&&t.request.additionalParameters.push({name:"numDays",value:5}),this._configuration.HistoricalDataService.UseCache&&t.request.additionalParameters.push({name:"usecache",value:"y"})}function m(t,i){if(i.errorCode===Fmr_Pwi_Commons_SecurityDataErrorCode.NoError||i.errorCode===Fmr_Pwi_Commons_SecurityDataErrorCode.NoData){var r=i.securityData,a=r.bars;if(this._symbol=r.getSymbol(),a.length<=0)this._chart.setSecurityData(r);else{var n=a[a.length-1].timestamp;n=e.call(this,n,this._selectedFrequency,r.getMarketInfo());var s=o.call(this,n,a,this._selectedTimeframe,r.getMarketInfo());this._chart.setShowPreviousClose(this._selectedTimeframe===Fmr_Pwi_Commons_TimePeriod.OneDay&&!this._configuration.hidePreviousClose),this._xAxisTickCalculator.setTimeframe(this._selectedTimeframe),this._chart.setSecurityData(r,s,n)}}h.call(this,i.errorCode,i.symbol),EventBus.trigger(this,"MiniChart:requestcompleted",i)}function l(e,t,i){this._requesterEventRegistered||(this._requesterEventRegistered=!0,EventBus.on(this._requester,"SecurityDataRequester:beforerequest",c,this),EventBus.on(this._requester,"SecurityDataRequester:requestcompleted",m,this)),this._requester.requestData(e,t,i,!1)}function h(e,t){var i=this._errorMessageService.getErrorMessage(e,t);i&&this._chart.setErrorMessage(i)}function u(){return SymbolExtensions.isMutualFund(this._symbol)}function _(){return SymbolExtensions.isMoneyMarket(this._symbol)}function d(e){this._defaultChartType=e,this._chart.setChartType(this._defaultChartType)}function f(e){if(!e)throw new UndefinedOrNullException("provider");this._dataProvider=e,this._requester.setSecurityDataProvider(e)}function y(){return this._timeframes||(this._timeframes=[],this._timeframes.push(Fmr_Pwi_Commons_TimePeriod.OneDay),this._timeframes.push(Fmr_Pwi_Commons_TimePeriod.FiveDays),this._timeframes.push(Fmr_Pwi_Commons_TimePeriod.OneMonth),this._timeframes.push(Fmr_Pwi_Commons_TimePeriod.ThreeMonths),this._timeframes.push(Fmr_Pwi_Commons_TimePeriod.OneYear),this._timeframes.push(Fmr_Pwi_Commons_TimePeriod.ThreeYears),this._timeframes.push(Fmr_Pwi_Commons_TimePeriod.FiveYears)),this._timeframes}function g(e){return!_.call(this)&&!u.call(this)||Fmr_Pwi_Commons_TimePeriod.OneDay!==e&&Fmr_Pwi_Commons_TimePeriod.FiveDays!==e}function C(){return this._selectedTimeframe}function p(){return this._selectedFrequency}function F(e){if(s.call(this,e),this._selectedTimeframe!==e&&(g.call(this,e)||this._configuration.showErrorOnIntradayForMutualFund))return this._selectedTimeframe=e,this._selectedFrequency=commonsModule.$.grep(q,function(t){return t.period===e})[0].frequency,g.call(this,e)?void(this._symbol&&l.call(this,this._symbol,this._selectedTimeframe,this._selectedFrequency)):void h.call(this,Fmr_Pwi_Commons_SecurityDataErrorCode.UnsupportedTimeframe)}function T(){return this._chart}function v(){return this._symbol}function P(){return this._configuration}function w(e){if(this._symbol=e,(_.call(this)||u.call(this))&&(Fmr_Pwi_Commons_TimePeriod.OneDay===this._selectedTimeframe||Fmr_Pwi_Commons_TimePeriod.FiveDays===this._selectedTimeframe)){if(this._configuration.showErrorOnIntradayForMutualFund)return void h.call(this,Fmr_Pwi_Commons_SecurityDataErrorCode.UnsupportedTimeframe);this._selectedTimeframe=Fmr_Pwi_Commons_TimePeriod.ThreeMonths,this._selectedFrequency=Fmr_Pwi_Commons_FrequencyScale.Daily}l.call(this,e,this._selectedTimeframe,this._selectedFrequency)}function D(){return this._showTimeframe}function S(e){this._showTimeframe=e}function M(e){this._chart.setShowVerticalGridLines(e)}function b(){return this._chart.getShowVerticalGridLines()}function k(){this._symbol="",this._chart.clear()}function x(){return DateService.nowEST()}function O(){EventBus.trigger(this,"MiniChart:destroyed")}var E=[{period:Fmr_Pwi_Commons_TimePeriod.OneDay,callback:a,interval:1},{period:Fmr_Pwi_Commons_TimePeriod.FiveDays,callback:a,interval:5},{period:Fmr_Pwi_Commons_TimePeriod.OneMonth,callback:n,interval:1},{period:Fmr_Pwi_Commons_TimePeriod.ThreeMonths,callback:n,interval:3},{period:Fmr_Pwi_Commons_TimePeriod.OneYear,callback:n,interval:12},{period:Fmr_Pwi_Commons_TimePeriod.ThreeYears,callback:n,interval:36},{period:Fmr_Pwi_Commons_TimePeriod.FiveYears,callback:n,interval:60}],q=[{period:Fmr_Pwi_Commons_TimePeriod.OneDay,frequency:Fmr_Pwi_Commons_FrequencyScale.FiveMinutes},{period:Fmr_Pwi_Commons_TimePeriod.FiveDays,frequency:Fmr_Pwi_Commons_FrequencyScale.FifteenMinutes},{period:Fmr_Pwi_Commons_TimePeriod.OneMonth,frequency:Fmr_Pwi_Commons_FrequencyScale.Daily},{period:Fmr_Pwi_Commons_TimePeriod.ThreeMonths,frequency:Fmr_Pwi_Commons_FrequencyScale.Daily},{period:Fmr_Pwi_Commons_TimePeriod.OneYear,frequency:Fmr_Pwi_Commons_FrequencyScale.Daily},{period:Fmr_Pwi_Commons_TimePeriod.ThreeYears,frequency:Fmr_Pwi_Commons_FrequencyScale.Monthly},{period:Fmr_Pwi_Commons_TimePeriod.FiveYears,frequency:Fmr_Pwi_Commons_FrequencyScale.Monthly}];return{getChart:T,getSymbol:v,getTimeframes:y,selectTimeframe:F,getSelectedTimeframe:C,getSelectedFrequency:p,setSecurityDataProvider:f,isTimeframeEnabled:g,refresh:w,getShowTimeframe:D,setShowTimeframe:S,setDefaultChartType:d,setShowVerticalGridLines:M,getShowVerticalGridLines:b,getAsOfDate:x,getConfiguration:P,clear:k,destroy:O}}(),MiniChartViewModel.prototype.constructor=MiniChartViewModel,MiniChartAdapter.prototype=function(){var e={};return angular.forEach(MiniChartViewModel.prototype,function(t,i){angular.isFunction(t)&&(e[i]=function(){var e=arguments,t=this.viewModel,r=t[i].apply(t,e);return this.scope.$digest(),r})}),e}(),MiniChartAdapter.prototype.constructor=MiniChartAdapter,miniChartModule.filter("miniChartXAxisLabel",function(){var e=72e5;return function(t,i){if(!t||0===t.length||t[0].style!==Fmr_Pwi_Charting_XAxisLabelStyle.Hour)return t;i=i||ObjectFactory.createInstance(MarketInfo);var r=[],a=i.marketOpen(t[0].getDate());a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0);for(var n=a.getTime(),o=0;o<t.length;o++){var s=t[o],c=s.getDate().getTime();(c-n)%e===0&&r.push(s)}return r}}),MiniChartWatermarkFontScaler.prototype=function(){function e(){return this._fontSize}return{calculateFontSize:e}}(),MiniChartWatermarkFontScaler.prototype.constructor=MiniChartWatermarkFontScaler,LastDayDivider.prototype=function(){function e(e,t){for(var i=e.length-1,r=e[e.length-1].getXValue(),a=t.dayStart(r).getTime(),n=e.length-2;n>=0;n--){var o=e[n].getXValue(),s=t.dayStart(o).getTime();if(s===a)i=n;else if(s<a)break}return i}function t(e,t,i,r,a){var n=ObjectFactory.createInstance(fabric.Path,e,{stroke:"#999999",strokeWidth:t,strokeDashArray:Fmr_Pwi_Charting_LineStyle.getDashArray(i),left:0,top:0,width:r,height:a});return n.pathOffset.x=0,n.pathOffset.y=0,n}function i(e){return moment(e).format("ddd").toUpperCase()}function r(){return this._securityDataDataSource=this._chart.getDataSourceCenter().getDataSource("Bars"),EventBus.on(this._securityDataDataSource,"DataSource:datachanged",this.updateElement,this),ObjectFactory.createInstance(fabric.Group)}function a(){var r=this._element;r.forEachObject(function(e){r.remove(e)});var a=this._securityDataDataSource.getSecurityData();if(a){var n=a.bars.getCloseSeries();if(!(n.length<=0)){var o=a.getScale();if(o.isIntraday()){var s=this._pane,c=s.getXAxis(),m=s.getYAxis(),l=e(n,a.getMarketInfo()),h=n[l].getXValue(),u=c.toCoordinate(h)-c.getBarWidth()/2,_=[["M",u,0],["L",u,m.getLength()]],d=t(_,this.getLineWidth(),this.getLineStyle(),c.getLength(),m.getLength());r.add(d);var f=i(h),y=ObjectFactory.createInstance(fabric.Text,f,{fontFamily:"Helvetica",fontWeight:"bold",fontSize:10,fill:"#666666",left:u+6,originX:"left",top:m.getLength()-4,originY:"bottom"});c.getLength()-y.left>y.width&&r.add(y);var g=n[l-1].getXValue();if(g){var C=i(g),p=ObjectFactory.createInstance(fabric.Text,C,{fontFamily:"Helvetica",fontWeight:"bold",fontSize:10,fill:"#666666",left:u-6,originX:"right",top:m.getLength()-4,originY:"bottom"});p.left>p.width&&r.add(p)}if(!this._mountainDataSource){this._mountainDataSource=ObjectFactory.createInstance(SettableDataSeriesDataSource);var F=ObjectFactory.createInstance(MountainSeries,this._mountainDataSource,ObjectFactory.createInstance(tinycolor,"#CAE1F7"));F.setFilledWithFixedColor(!0),F.setLineColor(ObjectFactory.createInstance(tinycolor,"#1360CB")),F.setZIndex(55),F.plot(s)}var T=ObjectFactory.createInstance(DataSeries);Array.prototype.push.apply(T,n.slice(l)),this._mountainDataSource.setDataSeries(T)}}}}function n(){EventBus.off(this._securityDataDataSource,"DataSource:datachanged",this.updateElement,this)}var o=Object.create(PlotObject.prototype);return o.createElement=r,o.updateElement=a,o.destroy=n,o}(),LastDayDivider.prototype.constructor=LastDayDivider;